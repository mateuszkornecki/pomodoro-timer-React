(window.webpackJsonptimeboxing=window.webpackJsonptimeboxing||[]).push([[0],{14:function(e,t,n){e.exports=n(22)},19:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(10),o=n.n(r),s=(n(19),n(1)),c=n(2),l=n(4),u=n(3),m=n(5),d=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleConfirmation=function(e){console.log(typeof n.taskTimeInput.current.value);var t=n.props,a=t.onConfirmation,i=t.elapsedTime,r=t.taskTimeInSeconds;60*n.taskTimeInput.current.value>i&&60*n.taskTimeInput.current.value!==r?(e.preventDefault(),a(n.titleInput.current.value,n.taskTimeInput.current.value)):alert("wprowadzony czas nie mo\u017ce byc mniejszy od ".concat((i/60).toFixed(2)," min. oraz musi by\u0107 inny ni\u017c wprowadzony czas pocz\u0105tkowy"))},n.titleInput=i.a.createRef(),n.taskTimeInput=i.a.createRef(),console.count("constructor"),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.count("mounted component")}},{key:"componentDidUpdate",value:function(){console.count("updated component")}},{key:"componentWillUnmount",value:function(){console.count("unmounted component")}},{key:"render",value:function(){console.count("render");var e=this.props,t=e.title,n=e.taskTimeInSeconds,a=e.isEditable;return i.a.createElement("div",{className:a?"TimeboxEditor":"TimeboxEditor inactive"},i.a.createElement("label",{htmlFor:"taskInput"},"Co robisz?"),i.a.createElement("input",{id:"taskInput",type:"text",defaultValue:t,ref:this.titleInput}),i.a.createElement("br",null),i.a.createElement("label",{htmlFor:"timeInput"},"Ile minut?"),i.a.createElement("input",{id:"timeInput",type:"number",defaultValue:n/60,ref:this.taskTimeInput}),i.a.createElement("br",null),i.a.createElement("button",{disabled:!a,onClick:this.handleConfirmation},"Zatwierd\u017a zmiany"))}}]),t}(i.a.Component),p=n(6),f=n.n(p);var h=function(e){var t=e.className,n=e.hours,a=e.minutes,r=e.seconds,o=e.miliseconds,s=e.coloredNumbers,c=f()("clock__numbers",{"clock__numbers--colored":s});function l(e,t,n,a){return function(e,t){for(t=t.toString();t.length<e;)t="0".concat(t);return t}(n,function(e,t,n){return n=Math.max(e,Math.min(n,t))}(e,t,a))}return n=l(0,24,2,n),a=l(0,59,2,a>=60?a%60:a),r=l(0,59,2,r),o=l(0,999,3,o),i.a.createElement("h2",{className:"clock "+t}," ","Pozosta\u0142o ",i.a.createElement("mark",{className:c},n),":",i.a.createElement("mark",{className:c},a),":",i.a.createElement("mark",{className:c},r),":",i.a.createElement("mark",{className:c},o))};var T=function(e){var t=e.className,n=void 0===t?"":t,a=e.percent,r=e.trackRemaining,o=e.red,s=f()("progress",n,{"progress--reverse":r}),c=f()("progress__bar",{"progress__bar--red":o}),l=!0===r?"calc(100 % - ".concat(a," %)"):"".concat(a,"% ");return i.a.createElement("div",{className:s},i.a.createElement("div",{className:c,style:{width:"".concat(l," ")}}))};var b=function(e){var t,n,a,r,o,s,c=e.title,l=e.isRunning,u=e.isPaused,m=e.isEditable,d=e.pausesCount,p=e.remainingTime,f=e.actualPercent,b=e.taskTimeInSeconds,E=e.handleStart,g=e.handleStop,k=e.togglePause,v=e.onConfirm;return s=l?p:b,o=Math.floor(s),t=Math.floor(s/3600),n=Math.floor(s/60),a=Math.floor(s%60),r=o>=0?Math.floor(1e3*(s-o)):0,i.a.createElement("div",{className:m?"CurrentTimebox inactive":"CurrentTimebox"},i.a.createElement("h1",null,c),i.a.createElement(h,{className:u?"inactive":"",hours:t,minutes:n,seconds:a,miliseconds:r,coloredNumbers:!0}),i.a.createElement(T,{className:u?"inactive":"",percent:f,trackRemaining:!1,red:!0}),i.a.createElement("button",{onClick:v,disabled:m},"Edytuj"),i.a.createElement("button",{onClick:E,disabled:l},"Start"),i.a.createElement("button",{onClick:g,disabled:!l},"Stop"),i.a.createElement("button",{onClick:k,disabled:!l},u?"Wzn\xf3w":"Pauzuj"),"Liczba przerw: ",d)},E=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={title:"To pole powinno dzia\u0142a\u0107",taskTimeInSeconds:0,isRunning:!1,isPaused:!1,isEditable:!0,pausesCount:0,initialTime:0,actualTime:0,taskTimeInMs:0,endTime:0,remainingTime:0,elapsedTime:0,actualPercent:0},n.handleChangeTitle=function(e){n.setState({title:e})},n.handleChangeTaskTime=function(e){var t=n.state.elapsedTime;n.setState({taskTimeInSeconds:60*e,taskTimeInMs:60*e*1e3}),t>0&&n.handleChangeTaskTimeWhileRunning()},n.handleChangeTaskTimeWhileRunning=function(){n.setState((function(e){return{taskTimeInMs:e.taskTimeInMs-1e3*e.elapsedTime}})),n.setEndTime(),n.setRemainingTime()},n.handleStart=function(){var e=Date.now();n.setState({isRunning:!0,initialTime:e}),n.start(),n.setEndTime()},n.handleStop=function(){n.stop();var e=n.state.taskTimeInSeconds;n.setState({isRunning:!1,isPaused:!1,pausesCount:0,initialTime:0,actualTime:0,taskTimeInMs:1e3*e,endTime:0,remainingTime:0,actualPercent:0,elapsedTime:0})},n.handleEdit=function(){n.setState((function(e){return{isEditable:!e.isEditable}}))},n.handleEditConfirmation=function(e,t){n.handleEdit(),n.handleChangeTitle(e),n.handleChangeTaskTime(t)},n.start=function(){n.countDown=setInterval((function(){var e=Date.now();console.log("timer is working"),n.setState({actualTime:e}),n.setRemainingTime(),n.setElapsedTime(),n.setActualPercent(),n.forceStop()}),10)},n.stop=function(){clearInterval(n.countDown)},n.forceStop=function(){n.state.remainingTime<=0&&n.stop()},n.togglePause=function(){n.setState((function(e){return{isPaused:!e.isPaused,pausesCount:e.isPaused?e.pausesCount+1:e.pausesCount}})),n.state.isPaused?n.repause():n.stop()},n.repause=function(){var e=n.state.remainingTime,t=Date.now(),a=1e3*e;n.setState({isRunning:!0,initialTime:t,taskTimeInMs:a}),n.start(),n.setEndTime()},n.setEndTime=function(){n.setState((function(e){return{endTime:e.initialTime+e.taskTimeInMs}}))},n.setRemainingTime=function(){n.setState((function(e){return{remainingTime:(e.endTime-e.actualTime)/1e3}}))},n.setElapsedTime=function(){n.setState((function(e){return{elapsedTime:e.taskTimeInSeconds-e.remainingTime}}))},n.setActualPercent=function(){n.setState((function(e){return{actualPercent:e.elapsedTime/e.taskTimeInSeconds*100}}))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.taskTimeInSeconds,a=e.isRunning,r=e.isPaused,o=e.isEditable,s=e.pausesCount,c=e.initialTime,l=e.actualTime,u=e.taskTimeInMs,m=e.endTime,p=e.remainingTime,f=e.actualPercent,h=e.elapsedTime;return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.StrictMode,null,o?i.a.createElement(d,{title:t,taskTimeInSeconds:n,isRunning:a,isEditable:o,elapsedTime:h,onChangeTitle:this.handleChangeTitle,onChangeTaskTime:this.handleChangeTaskTime,onConfirmation:this.handleEditConfirmation}):i.a.createElement(b,{title:t,isRunning:a,isPaused:r,isEditable:o,pausesCount:s,initialTime:c,actualTime:l,taskTimeInMs:u,endTime:m,remainingTime:p,actualPercent:f,elapsedTime:h,taskTimeInSeconds:n,handleStart:this.handleStart,handleStop:this.handleStop,start:this.start,stop:this.stop,forceStop:this.forceStop,togglePause:this.togglePause,repause:this.repause,setEndTime:this.setEndTime,setRemainingTime:this.setRemainingTime,setElapsedTime:this.setElapsedTime,setActualPercent:this.setActualPercent,onConfirm:this.handleEdit})))}}]),t}(i.a.Component),g=n(11),k=n(13);var v=function(e){var t=e.title,n=e.taskTime,a=e.onDelete,r=e.onEdit,o=(e.index,e.onChange);if(n<=0)throw new Error("Czas zadania musi by\u0107 wi\u0119kszy ni\u017c\xa0zero");return i.a.createElement("div",{className:"Timebox"},i.a.createElement("h3",null,t," - ",n," min."),i.a.createElement("button",{onClick:a},"Usu\u0144"),i.a.createElement("button",{onClick:r},"Zmie\u0144"),i.a.createElement("input",{onChange:o}))},C=n(12),y=n.n(C),S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){var t=n.props.onCreate;e.preventDefault(),t({id:y.a.v4(),title:n.form.current.children.taskInput.value,taskTime:n.form.current.children.timeInput.value}),n.form.current.children.taskInput.value="",n.form.current.children.timeInput.value=""},n.form=i.a.createRef(),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("form",{ref:this.form,onSubmit:this.handleSubmit,className:"TimeboxCreator"},i.a.createElement("label",{htmlFor:"taskInput"},"Co robisz?"),i.a.createElement("input",{id:"taskInput",type:"text"}),i.a.createElement("br",null),i.a.createElement("label",{htmlFor:"timeInput"},"Ile minut?"),i.a.createElement("input",{id:"timeInput",type:"number"}),i.a.createElement("br",null),i.a.createElement("button",null," Dodaj Timebox'a"))}}]),t}(i.a.Component),I=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log("%c wyst\u0105pi\u0142 nast\u0119puj\u0105cy b\u0142\u0105d","color: red",e,t)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.children;return this.state.hasError?t:n}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(i.a.Component);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var j=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={timeboxes:[],editInput:""},n.handleCreate=function(e){n.addTimebox(e)},n.addTimebox=function(e){n.setState((function(t){return{timeboxes:[e].concat(Object(k.a)(t.timeboxes))}}))},n.removeTimebox=function(e){n.setState((function(t){return{timeboxes:t.timeboxes.filter((function(t,n){return n!==e}))}}))},n.updateArray=function(e,t,n){return e.splice(t,1),e.splice(t,0,n),e},n.editTimebox=function(e,t){n.setState((function(a){var i=a.timeboxes;return n.updateArray(i,e,t),{timeboxes:i,editInput:""}}))},n.changeTitle=function(e){n.setState({editInput:e.target.value})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.timeboxes,a=t.editInput;return i.a.createElement(i.a.Fragment,null,i.a.createElement(S,{onCreate:this.handleCreate}),i.a.createElement(I,{message:"Co\u015b si\u0119 wywali\u0142o w Timeboxie"},n.map((function(t,n){return i.a.createElement(v,{key:t.id,title:t.title,taskTime:t.taskTime,onDelete:function(){return e.removeTimebox(n)},onEdit:function(){return e.editTimebox(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{title:a}))},onChange:e.changeTitle})}))))}}]),t}(i.a.Component);var w=function(){return i.a.createElement(I,{message:"wywali\u0142o App"},i.a.createElement("div",{className:"App"},i.a.createElement(j,null),i.a.createElement(I,{message:"wywali\u0142o EditableTimebox"},i.a.createElement(E,null))))};o.a.render(i.a.createElement(w,null),document.querySelector(".root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.416a3bb6.chunk.js.map